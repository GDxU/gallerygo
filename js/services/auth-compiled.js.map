{"version":3,"sources":["auth.js"],"names":[],"mappings":";;AAAA;AACA;AACA;AACA;;AAEA,QACG,MADH,CACU,KADV,EAEG,OAFH,CAEW,aAFX,EAE0B,CAAC,UAAD,EAAa,IAAb,EAAmB,YAAnB,EAAiC,UAAS,IAAT,EAAe,EAAf,EAAmB,UAAnB,EAA+B;AACtF,WAAS,KAAT,CAAe,KAAf,EAAsB,QAAtB,EAAgC;AAC9B,WAAO,KACJ,KADI,CACE,EAAC,OAAO,KAAR,EAAe,UAAU,QAAzB,EADF,EAEJ,QAFI,CAGJ,IAHI,CAGC,UAAS,QAAT,EAAmB;AACvB,iBAAW,WAAX,GAAyB;AACvB,YAAI,SAAS,IAAT,CAAc,EADK;AAEvB,iBAAS,SAAS,EAFK;AAGvB,eAAO;AAHgB,OAAzB;AAKD,KATI,CAAP;AAUD;;AAED,WAAS,MAAT,GAAkB;AAChB,WAAO,KACL,MADK,GAEL,QAFK,CAGL,IAHK,CAGA,YAAW;AACf,iBAAW,WAAX,GAAyB,IAAzB;AACD,KALK,CAAP;AAMD;;AAED,WAAS,QAAT,CAAkB,KAAlB,EAAyB,QAAzB,EAAmC;AACjC,WAAO,KACJ,MADI,CACG;AACP,aAAO,KADA;AAEP,gBAAU;AAFH,KADH,EAKL,QALF;AAMD;;AAED,SAAO;AACL,WAAO,KADF;AAEL,YAAQ,MAFH;AAGL,cAAU;AAHL,GAAP;AAKD,CArCuB,CAF1B","file":"auth-compiled.js","sourcesContent":["// Copyright IBM Corp. 2015. All Rights Reserved.\n// Node module: loopback-getting-started-intermediate\n// This file is licensed under the MIT License.\n// License text available at https://opensource.org/licenses/MIT\n\nangular\n  .module('app')\n  .factory('AuthService', ['Reviewer', '$q', '$rootScope', function(User, $q, $rootScope) {\n    function login(email, password) {\n      return User\n        .login({email: email, password: password})\n        .$promise\n        .then(function(response) {\n          $rootScope.currentUser = {\n            id: response.user.id,\n            tokenId: response.id,\n            email: email\n          };\n        });\n    }\n\n    function logout() {\n      return User\n       .logout()\n       .$promise\n       .then(function() {\n         $rootScope.currentUser = null;\n       });\n    }\n\n    function register(email, password) {\n      return User\n        .create({\n         email: email,\n         password: password\n       })\n       .$promise;\n    }\n\n    return {\n      login: login,\n      logout: logout,\n      register: register\n    };\n  }]);\n"]}