{"version":3,"sources":["controller-bundle-b.js"],"names":[],"mappings":"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","file":"controller-bundle-b-compiled.js","sourcesContent":["/**\n * Created by hesk on 16年10月13日.\n */\nangular.module('app')\n\n  .controller('CertReviewControl', ['$scope', '$state', '$stateParams', '$http', '$q', '$mdToast',\n    function ($scope, $state, $stateParams, $http, $q, $mdToast) {\n      var Servica = {};\n      Servica.getTranslateFile = function () {\n        var deferred = $q.defer();\n        $http.get('translate.json').then((response_good)=> {\n          deferred.resolve(response_good.data.apptranslate);\n        }, function (response_fail) {\n          deferred.reject(response_fail);\n        });\n        return deferred.promise;\n      };\n\n      Servica.getTranslateFile().then((translatedata)=> {\n        var lang = \"cn\";\n        $scope.radioData[0].detail = translatedata.role_1[lang];\n        $scope.radioData[0].label = translatedata.roleName1[lang];\n        $scope.radioData[1].detail = translatedata.role_2[lang];\n        $scope.radioData[1].label = translatedata.roleName2[lang];\n        $scope.radioData[2].detail = translatedata.role_3[lang];\n        $scope.radioData[2].label = translatedata.roleName3[lang];\n\n        $scope.str = {\n          intro: translatedata.participate_intro[lang],\n          title: translatedata.title_cert_review[lang],\n          pp: translatedata.selected_cert[lang],\n          continuebut: translatedata.continue[lang],\n          check: translatedata.errorcheck[lang]\n        };\n\n      });\n\n      $scope.str = {\n        intro: \"\",\n        title: \"\",\n        pp: \"\",\n        check: \"\",\n        continuebut: \"\"\n      };\n\n      $scope.data = {\n        group1: null\n      };\n\n      $scope.radioData = [\n        {label: '1', value: 1},\n        {label: '2', value: 2},\n        {label: '3', value: 3},\n      ];\n\n      /*  function sanitizePosition() {\n       var current = $scope.toastPosition;\n       if ( current.bottom && last.top ) current.top = false;\n       if ( current.top && last.bottom ) current.bottom = false;\n       if ( current.right && last.left ) current.left = false;\n       if ( current.left && last.right ) current.right = false;\n       last = angular.extend({},current);\n       }*/\n      $scope.changeSelection = function (val) {\n        $scope.data.group1 = val;\n      };\n      $scope.decidedAndNext = function () {\n        console.log($scope.data);\n        if ($scope.data.group1 == null || $scope.data.group1 == undefined) {\n          console.log(\"try again1\");\n          $mdToast.show($mdToast.simple().textContent($scope.str.check).position('top right').hideDelay(3000));\n        } else {\n          console.log(\"try continue\");\n        }\n      };\n    }])\n\n  /**\n\n\n   ng-change=\"changeSelection(program_selected)\"\n   name=\"program_selected\"\n\n\n   */\n  /*  .directive('mdRadioGroup', function () {\n   return {\n   restrict: 'E',\n   link: function ($scope, $el, $attrs) {\n   $el.on('keypress', function (event) {\n   if (event.keyCode === 13) {\n   var form = angular.element(getClosest($el[0], 'form'));\n   form.triggerHandler('submit');\n   }\n   function getClosest(el, tag) {\n   tag = tag.toUpperCase();\n   do {\n   if (el.nodeName === tag) {\n   return el;\n   }\n   } while (el = el.parentNode);\n   return null;\n   }\n   })\n   }\n   }\n   })*/\n\n\n  /*.config(function ($mdIconProvider) {\n   $mdIconProvider.iconSet(\"avatars\", 'icons/avatar-icons.svg', 128);\n   })*/\n\n  .controller('PreviewController',\n    ['$scope', '$stateParams', '$q', '$http', 'Basemap',\n      function ($scope, $stateParams, $q, $http, _basemap) {\n        var googleplayurl = 'https://play.google.com/store/apps/details?id=com.zyntauri.gogallery&hl=zh-TW';\n        var china_apk_url = '';\n        var detectionuser = 'https://api.userinfo.io/userinfos';\n        var conp1 = 'gallerygo/master/configurations.json';\n        var conp2 = 'rawgit';\n        var conp3 = 'https://cdn.' + conp2 + '.com/GDxU/';\n\n        var default_path1 = \"http://s3.heskeyo.com/basemap/\";\n        //var default_path2 = \"http://s3.heskeyo.com/basemap/\";\n\n        setInterval(function () {\n          jQuery('.star-1').fadeOut(150).delay(2000).fadeIn(300).fadeOut(150).delay(1254);\n          jQuery('.star-2').fadeOut(300).fadeIn(120).fadeOut(120).delay(1920);\n          jQuery('.star-3').fadeOut(150).delay(1200).fadeIn(300).fadeOut(150).delay(800);\n          jQuery('.star-4').fadeOut(700).fadeIn(300).fadeOut(160).delay(1350);\n        }, 1);\n\n        if (installation != undefined) {\n          china_apk_url = installation.chinaandroid;\n          // console.log(\"china_url confirmed \", china_apk_url);\n        }\n\n        var _itemId = $stateParams.id;\n        var _mode = $stateParams.mode;\n        var _lang = $stateParams.lang;\n        var Servica = {};\n        /*  console.log(\"=============================\");\n         console.log(\"id\", _itemId);\n         console.log(\"_mode\", _mode);\n         console.log(\"_lang\", _lang);\n         console.log(\"=============================\");*/\n        Servica.getGeo = function () {\n          var deferred = $q.defer();\n          $http({method: 'GET', url: detectionuser}).then(function (response) {\n            deferred.resolve(response.data);\n          }, function (respf) {\n            console.log(\"error\", respf);\n          });\n          return deferred.promise;\n        };\n        Servica.getMetaDict = function () {\n          var deferred = $q.defer();\n          $http({\n            method: 'GET',\n            url: conp3 + conp1\n          }).then(function (response_good) {\n            deferred.resolve(response_good.data);\n          }, function (response_fail) {\n            deferred.reject(response_fail);\n          });\n          return deferred.promise;\n        };\n        var locale_convert = function (tag) {\n          var final_lang = tag;\n          if (tag == \"ja\") {\n            final_lang = \"jp\";\n          }\n          if (tag == \"zh\") {\n            final_lang = \"cn\";\n          }\n          if (tag == \"it\") {\n            final_lang = \"en\";\n          }\n          if (tag == \"ko\") {\n            final_lang = \"kr\";\n          }\n          return final_lang;\n        };\n        var _get_name_tag = function (intput_label) {\n          if (_lang == null || _lang == \"\") {\n            return intput_label.cn;\n          } else {\n            var lang_t = locale_convert(_lang);\n            if (intput_label.hasOwnProperty(lang_t)) {\n              return intput_label[lang_t];\n            } else {\n              return intput_label.cn;\n            }\n          }\n        };\n        $scope.OnClickFn = {\n          installapp: function () {\n            // var el = angular.element(document.querySelector('#openGallery .open-icon'));\n            this.rotating = !this.rotating;\n            Servica.getGeo().then(function (json) {\n              console.log(json);\n              if (json.country.code == \"CN\") {\n                //  console.log(\"you are in China\");\n                window.location.href = china_apk_url;\n              } else {\n                //  console.log(\"you are not in\", json.country.name);\n                window.location.href = googleplayurl;\n              }\n            }, function (fail) {\n              alert(\"error to detect\", fail);\n            });\n          },\n          rotating: false,\n          ondetect: function (e) {\n            console.log(e);\n          }\n        }\n        ;\n\n        Servica.getMetaDict().then(function (data_config) {\n          _basemap.findOne(\n            {\n              filter: {\n                where: {\n                  id: _itemId\n                }\n              }\n            }\n          ).$promise.then(function (result) {\n\n            var base = result.folder_base_name;\n            var shape = parseInt(result.image_meta.shape), _size;\n            if (shape == 5 || shape == 2 || shape == 1) {\n              _size = result.image_meta.dimension.r + \" cm \" + \"半\";\n            } else {\n              _size = result.image_meta.dimension.x + \" x \" + result.image_meta.dimension.y + \" cm\";\n            }\n\n            for (var i = 0; i < data_config.shape.length; i++) {\n              if (data_config.shape[i].key == shape) {\n                _size = _get_name_tag(data_config.shape[i].label) + \" \" + _size;\n              }\n            }\n\n            $scope.ThisArticle = {\n              meta: result.image_meta,\n              size: _size,\n              preview: default_path1 + base + \"/\" + base + \".jpg\"\n            };\n\n          });\n\n        });\n\n      }]);\n"]}