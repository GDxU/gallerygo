{"version":3,"sources":["gulp-make.js"],"names":[],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAM,0BAA0B,wBAAS,IAAT,EAAe,QAAf,CAAhC;AACA;;;AAGA,SAAS,eAAT,CAAyB,IAAzB,EAA+B;AAC7B,MAAI,OAAO,IAAX;AACA,MAAI,KAAK,IAAL,CAAU,KAAV,CAAgB,OAAhB,CAAJ,EAA8B;AAC5B,QAAI,UAAU,KAAK,IAAL,CAAU,OAAV,CAAkB,KAAlB,EAAyB,SAAzB,CAAd;AACA,WAAO,CAAC,sBAAK,OAAL,CAAR;AAED,GAJD,MAIO,IAAI,KAAK,IAAL,CAAU,KAAV,CAAgB,QAAhB,CAAJ,EAA+B;AACpC,QAAI,UAAU,KAAK,IAAL,CAAU,OAAV,CAAkB,MAAlB,EAA0B,UAA1B,CAAd;AACA,WAAO,CAAC,sBAAK,OAAL,CAAR;AACD;AACD;AACA,SAAO,IAAP;AACD;;AAED;AACA,eAAK,IAAL,CAAU,gBAAV,EAA4B,YAAK;AAC/B;AACA,iBAAK,GAAL,CAAS,SAAS,IAAT,EAAe,QAAf,EAAyB,QAAlC,EAA4C,EAAC,MAAM,2BAAP,EAA5C,EACG,IADH,CACQ,eAAK,IAAL,CAAU,mBAAV,CADR;;AAGA,iBAAK,GAAL,CAAS,SAAS,KAAT,EAAgB,SAAhB,EAA2B,QAApC,EAA8C,EAAC,MAAM,2BAAP,EAA9C,EACG,IADH,CACQ,eAAK,IAAL,CAAU,mBAAV,CADR;;AAGA;AACA;AACA,iBAAK,GAAL,CAAS,gBAAT,EAA2B,EAAC,MAAM,2BAAP,EAA3B,EACG,IADH,CACQ,qBAAW,OAAX,CAAmB,eAAnB,CADR,EAEG,IAFH,CAEQ,eAAK,IAAL,CAAU,mBAAV,CAFR;AAGD,CAbD;;AAeA,eAAK,IAAL,CAAU,0BAAV,EAAsC,YAAK;AACzC,SAAO,eAAK,GAAL,CAAS,wBAAwB,MAAjC,EACJ,IADI,CACC,0BAAO,mBAAP,CADD,EAEJ,IAFI,CAEC,eAAK,IAAL,CAAU,KAAV,CAFD,CAAP;AAGD,CAJD;;AAMA,eAAK,IAAL,CAAU,yBAAV,EAAqC,YAAK;AACxC,SAAO,qBACL,eAAK,GAAL,CAAS,wBAAwB,QAAjC,CADK,EAEL,eAAK,GAAL,CAAS,wBAAwB,gBAAjC,EACG,IADH,CACQ,0BAAO,YAAP,CADR,EAEG,IAFH,CAEQ,2BAFR,CAFK,EAMJ,IANI,CAMC,0BAAO,uBAAP,CAND,EAOJ,IAPI,CAOC,eAAK,IAAL,CAAU,MAAV,CAPD,CAAP;AAQD,CATD;;AAWA;AACA,eAAK,IAAL,CAAU,SAAV,EAAqB,YAAY;AAC/B,SAAO,eAAK,GAAL,CAAS,SAAT,EACJ,IADI,CACC,0BAAO,SAAP,CADD,EAEJ,IAFI,CAEC,eAAK,IAAL,CAAU,SAAV,CAFD,CAAP;AAGD,CAJD;AAKA;AACA,eAAK,IAAL,CAAU,SAAV,EAAqB,CAAC,SAAD,CAArB","file":"gulp-make-compiled.js","sourcesContent":["import bowerMin from 'bower-min'\nimport concat from 'gulp-concat'\nimport uglify from 'gulp-uglify'\nimport merge2 from 'merge2'\nimport gulpIgnore from 'gulp-ignore'\nimport exists, {sync} from 'path-exists'\nimport obfuscate from 'gulp-obfuscate'\nimport gulp from 'gulp'\n\nconst bowerMinJavaScriptFiles = bowerMin('js', 'min.js');\n/*\n * A function that checks whether a Bower file has a minified version.\n */\nfunction keepNonMinified(file) {\n  var keep = true;\n  if (file.path.match('\\.js$')) {\n    var minPath = file.path.replace('.js', '.min.js');\n    keep = !sync(minPath);\n\n  } else if (file.path.match('\\.css$')) {\n    var minPath = file.path.replace('.css', '.min.css');\n    keep = !sync(minPath);\n  }\n  // gutil.log( file.path + ' => ' + keep );\n  return keep;\n}\n\n// Create some task\ngulp.task('copy-bower-dep', ()=> {\n  // Copy minified resources (Bower)\n  gulp.src(bowermin('js', 'min.js').minified, {base: './my-bower-components/dir'})\n    .pipe(gulp.dest('./target/dist/lib'));\n\n  gulp.src(bowermin('css', 'min.css').minified, {base: './my-bower-components/dir'})\n    .pipe(gulp.dest('./target/dist/lib'));\n\n  // Copy non-minified resources (Bower)\n  // Notice we filter these resources to distinguish which one are minified.\n  gulp.src(mainBowerFiles(), {base: './my-bower-components/dir'})\n    .pipe(gulpIgnore.include(keepNonMinified))\n    .pipe(gulp.dest('./target/dist/lib'));\n});\n\ngulp.task('vendorScriptsDevelopment', ()=> {\n  return gulp.src(bowerMinJavaScriptFiles.normal)\n    .pipe(concat('vendor-scripts.js'))\n    .pipe(gulp.dest('dev'))\n});\n\ngulp.task('vendorScriptsProduction', ()=> {\n  return merge2(\n    gulp.src(bowerMinJavaScriptFiles.minified),\n    gulp.src(bowerMinJavaScriptFiles.minifiedNotFound)\n      .pipe(concat('tmp.min.js'))\n      .pipe(uglify())\n  )\n    .pipe(concat('vendor-scripts.min.js'))\n    .pipe(gulp.dest('dist'))\n});\n\n// Concatenate JS Files\ngulp.task('scripts', function () {\n  return gulp.src('js/*.js')\n    .pipe(concat('main.js'))\n    .pipe(gulp.dest('dist/js'));\n});\n// Default Task\ngulp.task('default', ['scripts']);\n"]}