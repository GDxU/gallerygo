{"version":3,"sources":["keydragzoom.js"],"names":[],"mappings":"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","file":"keydragzoom-compiled.js","sourcesContent":["/**\n *  google-maps-utility-library-v3-keydragzoom\n *\n * @version: 2.0.9\n * @author: Nianwei Liu [nianwei at gmail dot com] & Gary Little [gary at luxcentral dot com]\n * @contributors: undefined\n * @date: Fri May 13 2016 13:45:18 GMT-0400 (EDT)\n * @license: Apache License 2.0\n */\n/**\n * @fileoverview This library adds a drag zoom capability to a V3 Google map.\n *  When drag zoom is enabled, holding down a designated hot key <code>(shift | ctrl | alt)</code>\n *  while dragging a box around an area of interest will zoom the map in to that area when\n *  the mouse button is released. Optionally, a visual control can also be supplied for turning\n *  a drag zoom operation on and off.\n *  Only one line of code is needed: <code>google.maps.Map.enableKeyDragZoom();</code>\n *  <p>\n *  NOTE: Do not use Ctrl as the hot key with Google Maps JavaScript API V3 since, unlike with V2,\n *  it causes a context menu to appear when running on the Macintosh.\n *  <p>\n *  Note that if the map's container has a border around it, the border widths must be specified\n *  in pixel units (or as thin, medium, or thick). This is required because of an MSIE limitation.\n *   <p>NL: 2009-05-28: initial port to core API V3.\n *  <br>NL: 2009-11-02: added a temp fix for -moz-transform for FF3.5.x using code from Paul Kulchenko (http://notebook.kulchenko.com/maps/gridmove).\n *  <br>NL: 2010-02-02: added a fix for IE flickering on divs onmousemove, caused by scroll value when get mouse position.\n *  <br>GL: 2010-06-15: added a visual control option.\n */\n(function () {\n  /*jslint browser:true */\n  /*global window,google */\n  /* Utility functions use \"var funName=function()\" syntax to allow use of the */\n  /* Dean Edwards Packer compression tool (with Shrink variables, without Base62 encode). */\n\n  /**\n   * Converts \"thin\", \"medium\", and \"thick\" to pixel widths\n   * in an MSIE environment. Not called for other browsers\n   * because getComputedStyle() returns pixel widths automatically.\n   * @param {string} widthValue The value of the border width parameter.\n   */\n  var toPixels = function (widthValue) {\n    var px;\n    switch (widthValue) {\n    case \"thin\":\n      px = \"2px\";\n      break;\n    case \"medium\":\n      px = \"4px\";\n      break;\n    case \"thick\":\n      px = \"6px\";\n      break;\n    default:\n      px = widthValue;\n    }\n    return px;\n  };\n /**\n  * Get the widths of the borders of an HTML element.\n  *\n  * @param {Node} h  The HTML element.\n  * @return {Object} The width object {top, bottom left, right}.\n  */\n  var getBorderWidths = function (h) {\n    var computedStyle;\n    var bw = {};\n    if (document.defaultView && document.defaultView.getComputedStyle) {\n      computedStyle = h.ownerDocument.defaultView.getComputedStyle(h, \"\");\n      if (computedStyle) {\n        // The computed styles are always in pixel units (good!)\n        bw.top = parseInt(computedStyle.borderTopWidth, 10) || 0;\n        bw.bottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n        bw.left = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n        bw.right = parseInt(computedStyle.borderRightWidth, 10) || 0;\n        return bw;\n      }\n    } else if (document.documentElement.currentStyle) { // MSIE\n      if (h.currentStyle) {\n        // The current styles may not be in pixel units so try to convert (bad!)\n        bw.top = parseInt(toPixels(h.currentStyle.borderTopWidth), 10) || 0;\n        bw.bottom = parseInt(toPixels(h.currentStyle.borderBottomWidth), 10) || 0;\n        bw.left = parseInt(toPixels(h.currentStyle.borderLeftWidth), 10) || 0;\n        bw.right = parseInt(toPixels(h.currentStyle.borderRightWidth), 10) || 0;\n        return bw;\n      }\n    }\n    // Shouldn't get this far for any modern browser\n    bw.top = parseInt(h.style[\"border-top-width\"], 10) || 0;\n    bw.bottom = parseInt(h.style[\"border-bottom-width\"], 10) || 0;\n    bw.left = parseInt(h.style[\"border-left-width\"], 10) || 0;\n    bw.right = parseInt(h.style[\"border-right-width\"], 10) || 0;\n    return bw;\n  };\n\n  // Page scroll values for use by getMousePosition. To prevent flickering on MSIE\n  // they are calculated only when the document actually scrolls, not every time the\n  // mouse moves (as they would be if they were calculated inside getMousePosition).\n  var scroll = {\n    x: 0,\n    y: 0\n  };\n  var getScrollValue = function (e) {\n    scroll.x = (typeof document.documentElement.scrollLeft !== \"undefined\" ? document.documentElement.scrollLeft : document.body.scrollLeft);\n    scroll.y = (typeof document.documentElement.scrollTop !== \"undefined\" ? document.documentElement.scrollTop : document.body.scrollTop);\n  };\n  getScrollValue();\n\n  /**\n   * Get the position of the mouse relative to the document.\n   * @param {Event} e  The mouse event.\n   * @return {Object} The position object {left, top}.\n   */\n  var getMousePosition = function (e) {\n    var posX = 0, posY = 0;\n    e = e || window.event;\n    if (typeof e.pageX !== \"undefined\") {\n      posX = e.pageX;\n      posY = e.pageY;\n    } else if (typeof e.clientX !== \"undefined\") { // MSIE\n      posX = e.clientX + scroll.x;\n      posY = e.clientY + scroll.y;\n    }\n    return {\n      left: posX,\n      top: posY\n    };\n  };\n  /**\n   * Get the position of an HTML element relative to the document.\n   * @param {Node} h  The HTML element.\n   * @return {Object} The position object {left, top}.\n   */\n  var getElementPosition = function (h) {\n    var posX = h.offsetLeft;\n    var posY = h.offsetTop;\n    var parent = h.offsetParent;\n    // Add offsets for all ancestors in the hierarchy\n    while (parent !== null) {\n      // Adjust for scrolling elements which may affect the map position.\n      //\n      // See http://www.howtocreate.co.uk/tutorials/javascript/browserspecific\n      //\n      // \"...make sure that every element [on a Web page] with an overflow\n      // of anything other than visible also has a position style set to\n      // something other than the default static...\"\n      if (parent !== document.body && parent !== document.documentElement) {\n        posX -= parent.scrollLeft;\n        posY -= parent.scrollTop;\n      }\n      // See http://groups.google.com/group/google-maps-js-api-v3/browse_thread/thread/4cb86c0c1037a5e5\n      // Example: http://notebook.kulchenko.com/maps/gridmove\n      var m = parent;\n      // This is the \"normal\" way to get offset information:\n      var moffx = m.offsetLeft;\n      var moffy = m.offsetTop;\n      // This covers those cases where a transform is used:\n      if (!moffx && !moffy && window.getComputedStyle) {\n        var matrix = document.defaultView.getComputedStyle(m, null).MozTransform ||\n        document.defaultView.getComputedStyle(m, null).WebkitTransform;\n        if (matrix) {\n          if (typeof matrix === \"string\") {\n            var parms = matrix.split(\",\");\n            moffx += parseInt(parms[4], 10) || 0;\n            moffy += parseInt(parms[5], 10) || 0;\n          }\n        }\n      }\n      posX += moffx;\n      posY += moffy;\n      parent = parent.offsetParent;\n    }\n    return {\n      left: posX,\n      top: posY\n    };\n  };\n  /**\n   * Set the properties of an object to those from another object.\n   * @param {Object} obj The target object.\n   * @param {Object} vals The source object.\n   */\n  var setVals = function (obj, vals) {\n    if (obj && vals) {\n      for (var x in vals) {\n        if (vals.hasOwnProperty(x)) {\n          obj[x] = vals[x];\n        }\n      }\n    }\n    return obj;\n  };\n  /**\n   * Set the opacity. If op is not passed in, this function just performs an MSIE fix.\n   * @param {Node} h The HTML element.\n   * @param {number} op The opacity value (0-1).\n   */\n  var setOpacity = function (h, op) {\n    if (typeof op !== \"undefined\") {\n      h.style.opacity = op;\n    }\n    if (typeof h.style.opacity !== \"undefined\" && h.style.opacity !== \"\") {\n      h.style.filter = \"alpha(opacity=\" + (h.style.opacity * 100) + \")\";\n    }\n  };\n  /**\n   * @name KeyDragZoomOptions\n   * @class This class represents the optional parameter passed into <code>google.maps.Map.enableKeyDragZoom</code>.\n   * @property {string} [key=\"shift\"] The hot key to hold down to activate a drag zoom, <code>shift | ctrl | alt</code>.\n   *  NOTE: Do not use Ctrl as the hot key with Google Maps JavaScript API V3 since, unlike with V2,\n   *  it causes a context menu to appear when running on the Macintosh. Also note that the\n   *  <code>alt</code> hot key refers to the Option key on a Macintosh.\n   * @property {Object} [boxStyle={border: \"4px solid #736AFF\"}]\n   *  An object literal defining the CSS styles of the zoom box.\n   *  Border widths must be specified in pixel units (or as thin, medium, or thick).\n   * @property {Object} [veilStyle={backgroundColor: \"gray\", opacity: 0.25, cursor: \"crosshair\"}]\n   *  An object literal defining the CSS styles of the veil pane which covers the map when a drag\n   *  zoom is activated. The previous name for this property was <code>paneStyle</code> but the use\n   *  of this name is now deprecated.\n   * @property {boolean} [noZoom=false] A flag indicating whether to disable zooming after an area is\n   *  selected. Set this to <code>true</code> to allow KeyDragZoom to be used as a simple area\n   *  selection tool.\n   * @property {boolean} [visualEnabled=false] A flag indicating whether a visual control is to be used.\n   * @property {string} [visualClass=\"\"] The name of the CSS class defining the styles for the visual\n   *  control. To prevent the visual control from being printed, set this property to the name of\n   *  a class, defined inside a <code>@media print</code> rule, which sets the CSS\n   *  <code>display</code> style to <code>none</code>.\n   * @property {ControlPosition} [visualPosition=google.maps.ControlPosition.LEFT_TOP]\n   *  The position of the visual control.\n   * @property {Size} [visualPositionOffset=google.maps.Size(35, 0)] The width and height values\n   *  provided by this property are the offsets (in pixels) from the location at which the control\n   *  would normally be drawn to the desired drawing location.\n   * @property {number} [visualPositionIndex=null] The index of the visual control.\n   *  The index is for controlling the placement of the control relative to other controls at the\n   *  position given by <code>visualPosition</code>; controls with a lower index are placed first.\n   *  Use a negative value to place the control <i>before</i> any default controls. No index is\n   *  generally required.\n   * @property {String} [visualSprite=\"http://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png\"]\n   *  The URL of the sprite image used for showing the visual control in the on, off, and hot\n   *  (i.e., when the mouse is over the control) states. The three images within the sprite must\n   *  be the same size and arranged in on-hot-off order in a single row with no spaces between images.\n   * @property {Size} [visualSize=google.maps.Size(20, 20)] The width and height values provided by\n   *  this property are the size (in pixels) of each of the images within <code>visualSprite</code>.\n   * @property {Object} [visualTips={off: \"Turn on drag zoom mode\", on: \"Turn off drag zoom mode\"}]\n   *  An object literal defining the help tips that appear when\n   *  the mouse moves over the visual control. The <code>off</code> property is the tip to be shown\n   *  when the control is off and the <code>on</code> property is the tip to be shown when the\n   *  control is on.\n   */\n  /**\n   * @name DragZoom\n   * @class This class represents a drag zoom object for a map. The object is activated by holding down the hot key\n   * or by turning on the visual control.\n   * This object is created when <code>google.maps.Map.enableKeyDragZoom</code> is called; it cannot be created directly.\n   * Use <code>google.maps.Map.getDragZoomObject</code> to gain access to this object in order to attach event listeners.\n   * @param {Map} map The map to which the DragZoom object is to be attached.\n   * @param {KeyDragZoomOptions} [opt_zoomOpts] The optional parameters.\n   */\n  function DragZoom(map, opt_zoomOpts) {\n    var me = this;\n    var ov = new google.maps.OverlayView();\n    ov.onAdd = function () {\n      me.init_(map, opt_zoomOpts);\n    };\n    ov.draw = function () {\n    };\n    ov.onRemove = function () {\n    };\n    ov.setMap(map);\n    this.prjov_ = ov;\n  }\n  /**\n   * Initialize the tool.\n   * @param {Map} map The map to which the DragZoom object is to be attached.\n   * @param {KeyDragZoomOptions} [opt_zoomOpts] The optional parameters.\n   */\n  DragZoom.prototype.init_ = function (map, opt_zoomOpts) {\n    var i;\n    var me = this;\n    this.map_ = map;\n    opt_zoomOpts = opt_zoomOpts || {};\n    this.key_ = opt_zoomOpts.key || \"shift\";\n    this.key_ = this.key_.toLowerCase();\n    this.borderWidths_ = getBorderWidths(this.map_.getDiv());\n    this.veilDiv_ = [];\n    for (i = 0; i < 4; i++) {\n      this.veilDiv_[i] = document.createElement(\"div\");\n      // Prevents selection of other elements on the webpage\n      // when a drag zoom operation is in progress:\n      this.veilDiv_[i].onselectstart = function () {\n        return false;\n      };\n      // Apply default style values for the veil:\n      setVals(this.veilDiv_[i].style, {\n        backgroundColor: \"gray\",\n        opacity: 0.25,\n        cursor: \"crosshair\"\n      });\n      // Apply style values specified in veilStyle parameter:\n      setVals(this.veilDiv_[i].style, opt_zoomOpts.paneStyle); // Old option name was \"paneStyle\"\n      setVals(this.veilDiv_[i].style, opt_zoomOpts.veilStyle); // New name is \"veilStyle\"\n      // Apply mandatory style values:\n      setVals(this.veilDiv_[i].style, {\n        position: \"absolute\",\n        overflow: \"hidden\",\n        display: \"none\"\n      });\n      // Workaround for Firefox Shift-Click problem:\n      if (this.key_ === \"shift\") {\n        this.veilDiv_[i].style.MozUserSelect = \"none\";\n      }\n      setOpacity(this.veilDiv_[i]);\n      // An IE fix: If the background is transparent it cannot capture mousedown\n      // events, so if it is, change the background to white with 0 opacity.\n      if (this.veilDiv_[i].style.backgroundColor === \"transparent\") {\n        this.veilDiv_[i].style.backgroundColor = \"white\";\n        setOpacity(this.veilDiv_[i], 0);\n      }\n      this.map_.getDiv().appendChild(this.veilDiv_[i]);\n    }\n\n    this.noZoom_ = opt_zoomOpts.noZoom || false;\n    this.visualEnabled_ = opt_zoomOpts.visualEnabled || false;\n    this.visualClass_ = opt_zoomOpts.visualClass || \"\";\n    this.visualPosition_ = opt_zoomOpts.visualPosition || google.maps.ControlPosition.LEFT_TOP;\n    this.visualPositionOffset_ = opt_zoomOpts.visualPositionOffset || new google.maps.Size(35, 0);\n    this.visualPositionIndex_ = opt_zoomOpts.visualPositionIndex || null;\n    this.visualSprite_ = opt_zoomOpts.visualSprite || \"http\" + (document.location.protocol === \"https:\" ? \"s\" : \"\") + \"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png\";\n    this.visualSize_ = opt_zoomOpts.visualSize || new google.maps.Size(20, 20);\n    this.visualTips_ = opt_zoomOpts.visualTips || {};\n    this.visualTips_.off =  this.visualTips_.off || \"Turn on drag zoom mode\";\n    this.visualTips_.on =  this.visualTips_.on || \"Turn off drag zoom mode\";\n\n    this.boxDiv_ = document.createElement(\"div\");\n    // Apply default style values for the zoom box:\n    setVals(this.boxDiv_.style, {\n      border: \"4px solid #736AFF\"\n    });\n    // Apply style values specified in boxStyle parameter:\n    setVals(this.boxDiv_.style, opt_zoomOpts.boxStyle);\n    // Apply mandatory style values:\n    setVals(this.boxDiv_.style, {\n      position: \"absolute\",\n      display: \"none\"\n    });\n    setOpacity(this.boxDiv_);\n    this.map_.getDiv().appendChild(this.boxDiv_);\n    this.boxBorderWidths_ = getBorderWidths(this.boxDiv_);\n\n    this.listeners_ = [\n      google.maps.event.addDomListener(document, \"keydown\", function (e) {\n        me.onKeyDown_(e);\n      }),\n      google.maps.event.addDomListener(document, \"keyup\", function (e) {\n        me.onKeyUp_(e);\n      }),\n      google.maps.event.addDomListener(this.veilDiv_[0], \"mousedown\", function (e) {\n        me.onMouseDown_(e);\n      }),\n      google.maps.event.addDomListener(this.veilDiv_[1], \"mousedown\", function (e) {\n        me.onMouseDown_(e);\n      }),\n      google.maps.event.addDomListener(this.veilDiv_[2], \"mousedown\", function (e) {\n        me.onMouseDown_(e);\n      }),\n      google.maps.event.addDomListener(this.veilDiv_[3], \"mousedown\", function (e) {\n        me.onMouseDown_(e);\n      }),\n      google.maps.event.addDomListener(document, \"mousedown\", function (e) {\n        me.onMouseDownDocument_(e);\n      }),\n      google.maps.event.addDomListener(document, \"mousemove\", function (e) {\n        me.onMouseMove_(e);\n      }),\n      google.maps.event.addDomListener(document, \"mouseup\", function (e) {\n        me.onMouseUp_(e);\n      }),\n      google.maps.event.addDomListener(window, \"scroll\", getScrollValue)\n    ];\n\n    this.hotKeyDown_ = false;\n    this.mouseDown_ = false;\n    this.dragging_ = false;\n    this.startPt_ = null;\n    this.endPt_ = null;\n    this.mapWidth_ = null;\n    this.mapHeight_ = null;\n    this.mousePosn_ = null;\n    this.mapPosn_ = null;\n\n    if (this.visualEnabled_) {\n      this.buttonDiv_ = this.initControl_(this.visualPositionOffset_);\n      if (this.visualPositionIndex_ !== null) {\n        this.buttonDiv_.index = this.visualPositionIndex_;\n      }\n      this.map_.controls[this.visualPosition_].push(this.buttonDiv_);\n      this.controlIndex_ = this.map_.controls[this.visualPosition_].length - 1;\n    }\n  };\n  /**\n   * Initializes the visual control and returns its DOM element.\n   * @param {Size} offset The offset of the control from its normal position.\n   * @return {Node} The DOM element containing the visual control.\n   */\n  DragZoom.prototype.initControl_ = function (offset) {\n    var control;\n    var image;\n    var me = this;\n\n    control = document.createElement(\"div\");\n    control.className = this.visualClass_;\n    control.style.position = \"relative\";\n    control.style.overflow = \"hidden\";\n    control.style.height = this.visualSize_.height + \"px\";\n    control.style.width = this.visualSize_.width + \"px\";\n    control.title = this.visualTips_.off;\n    image = document.createElement(\"img\");\n    image.src = this.visualSprite_;\n    image.style.position = \"absolute\";\n    image.style.left = -(this.visualSize_.width * 2) + \"px\";\n    image.style.top = 0 + \"px\";\n    control.appendChild(image);\n    control.onclick = function (e) {\n      me.hotKeyDown_ = !me.hotKeyDown_;\n      if (me.hotKeyDown_) {\n        me.buttonDiv_.firstChild.style.left = -(me.visualSize_.width * 0) + \"px\";\n        me.buttonDiv_.title = me.visualTips_.on;\n        me.activatedByControl_ = true;\n        google.maps.event.trigger(me, \"activate\");\n      } else {\n        me.buttonDiv_.firstChild.style.left = -(me.visualSize_.width * 2) + \"px\";\n        me.buttonDiv_.title = me.visualTips_.off;\n        google.maps.event.trigger(me, \"deactivate\");\n      }\n      me.onMouseMove_(e); // Updates the veil\n    };\n    control.onmouseover = function () {\n      me.buttonDiv_.firstChild.style.left = -(me.visualSize_.width * 1) + \"px\";\n    };\n    control.onmouseout = function () {\n      if (me.hotKeyDown_) {\n        me.buttonDiv_.firstChild.style.left = -(me.visualSize_.width * 0) + \"px\";\n        me.buttonDiv_.title = me.visualTips_.on;\n      } else {\n        me.buttonDiv_.firstChild.style.left = -(me.visualSize_.width * 2) + \"px\";\n        me.buttonDiv_.title = me.visualTips_.off;\n      }\n    };\n    control.ondragstart = function () {\n      return false;\n    };\n    setVals(control.style, {\n      cursor: \"pointer\",\n      marginTop: offset.height + \"px\",\n      marginLeft: offset.width + \"px\"\n    });\n    return control;\n  };\n  /**\n   * Returns <code>true</code> if the hot key is being pressed when an event occurs.\n   * @param {Event} e The keyboard event.\n   * @return {boolean} Flag indicating whether the hot key is down.\n   */\n  DragZoom.prototype.isHotKeyDown_ = function (e) {\n    var isHot;\n    e = e || window.event;\n    isHot = (e.shiftKey && this.key_ === \"shift\") || (e.altKey && this.key_ === \"alt\") || (e.ctrlKey && this.key_ === \"ctrl\");\n    if (!isHot) {\n      // Need to look at keyCode for Opera because it\n      // doesn't set the shiftKey, altKey, ctrlKey properties\n      // unless a non-modifier event is being reported.\n      //\n      // See http://cross-browser.com/x/examples/shift_mode.php\n      // Also see http://unixpapa.com/js/key.html\n      switch (e.keyCode) {\n      case 16:\n        if (this.key_ === \"shift\") {\n          isHot = true;\n        }\n        break;\n      case 17:\n        if (this.key_ === \"ctrl\") {\n          isHot = true;\n        }\n        break;\n      case 18:\n        if (this.key_ === \"alt\") {\n          isHot = true;\n        }\n        break;\n      }\n    }\n    return isHot;\n  };\n  /**\n   * Returns <code>true</code> if the mouse is on top of the map div.\n   * The position is captured in onMouseMove_.\n   * @return {boolean}\n   */\n  DragZoom.prototype.isMouseOnMap_ = function () {\n    var mousePosn = this.mousePosn_;\n    if (mousePosn) {\n      var mapPosn = this.mapPosn_;\n      var mapDiv = this.map_.getDiv();\n      return mousePosn.left > mapPosn.left && mousePosn.left < (mapPosn.left + mapDiv.offsetWidth) &&\n      mousePosn.top > mapPosn.top && mousePosn.top < (mapPosn.top + mapDiv.offsetHeight);\n    } else {\n      // if user never moved mouse\n      return false;\n    }\n  };\n  /**\n   * Show the veil if the hot key is down and the mouse is over the map,\n   * otherwise hide the veil.\n   */\n  DragZoom.prototype.setVeilVisibility_ = function () {\n    var i;\n    if (this.map_ && this.hotKeyDown_ && this.isMouseOnMap_()) {\n      var mapDiv = this.map_.getDiv();\n      this.mapWidth_ = mapDiv.offsetWidth - (this.borderWidths_.left + this.borderWidths_.right);\n      this.mapHeight_ = mapDiv.offsetHeight - (this.borderWidths_.top + this.borderWidths_.bottom);\n      if (this.activatedByControl_) { // Veil covers entire map (except control)\n        var left = parseInt(this.buttonDiv_.style.left, 10) + this.visualPositionOffset_.width;\n        var top = parseInt(this.buttonDiv_.style.top, 10) + this.visualPositionOffset_.height;\n        var width = this.visualSize_.width;\n        var height = this.visualSize_.height;\n        // Left veil rectangle:\n        this.veilDiv_[0].style.top = \"0px\";\n        this.veilDiv_[0].style.left = \"0px\";\n        this.veilDiv_[0].style.width = left + \"px\";\n        this.veilDiv_[0].style.height = this.mapHeight_ + \"px\";\n        // Right veil rectangle:\n        this.veilDiv_[1].style.top = \"0px\";\n        this.veilDiv_[1].style.left = (left + width) + \"px\";\n        this.veilDiv_[1].style.width = (this.mapWidth_ - (left + width)) + \"px\";\n        this.veilDiv_[1].style.height = this.mapHeight_ + \"px\";\n        // Top veil rectangle:\n        this.veilDiv_[2].style.top = \"0px\";\n        this.veilDiv_[2].style.left = left + \"px\";\n        this.veilDiv_[2].style.width = width + \"px\";\n        this.veilDiv_[2].style.height = top + \"px\";\n        // Bottom veil rectangle:\n        this.veilDiv_[3].style.top = (top + height) + \"px\";\n        this.veilDiv_[3].style.left = left + \"px\";\n        this.veilDiv_[3].style.width = width + \"px\";\n        this.veilDiv_[3].style.height = (this.mapHeight_ - (top + height)) + \"px\";\n        for (i = 0; i < this.veilDiv_.length; i++) {\n          this.veilDiv_[i].style.display = \"block\";\n        }\n      } else {\n        this.veilDiv_[0].style.left = \"0px\";\n        this.veilDiv_[0].style.top = \"0px\";\n        this.veilDiv_[0].style.width = this.mapWidth_ + \"px\";\n        this.veilDiv_[0].style.height = this.mapHeight_ + \"px\";\n        for (i = 1; i < this.veilDiv_.length; i++) {\n          this.veilDiv_[i].style.width = \"0px\";\n          this.veilDiv_[i].style.height = \"0px\";\n        }\n        for (i = 0; i < this.veilDiv_.length; i++) {\n          this.veilDiv_[i].style.display = \"block\";\n        }\n      }\n    } else {\n      for (i = 0; i < this.veilDiv_.length; i++) {\n        this.veilDiv_[i].style.display = \"none\";\n      }\n    }\n  };\n  /**\n   * Handle key down. Show the veil if the hot key has been pressed.\n   * @param {Event} e The keyboard event.\n   */\n  DragZoom.prototype.onKeyDown_ = function (e) {\n    if (this.map_ && !this.hotKeyDown_ && this.isHotKeyDown_(e)) {\n      this.mapPosn_ = getElementPosition(this.map_.getDiv());\n      this.hotKeyDown_ = true;\n      this.activatedByControl_ = false;\n      this.setVeilVisibility_();\n     /**\n       * This event is fired when the hot key is pressed.\n       * @name DragZoom#activate\n       * @event\n       */\n      google.maps.event.trigger(this, \"activate\");\n    }\n  };\n  /**\n   * Get the <code>google.maps.Point</code> of the mouse position.\n   * @param {Event} e The mouse event.\n   * @return {Point} The mouse position.\n   */\n  DragZoom.prototype.getMousePoint_ = function (e) {\n    var mousePosn = getMousePosition(e);\n    var p = new google.maps.Point();\n    p.x = mousePosn.left - this.mapPosn_.left - this.borderWidths_.left;\n    p.y = mousePosn.top - this.mapPosn_.top - this.borderWidths_.top;\n    p.x = Math.min(p.x, this.mapWidth_);\n    p.y = Math.min(p.y, this.mapHeight_);\n    p.x = Math.max(p.x, 0);\n    p.y = Math.max(p.y, 0);\n    return p;\n  };\n  /**\n   * Handle mouse down.\n   * @param {Event} e The mouse event.\n   */\n  DragZoom.prototype.onMouseDown_ = function (e) {\n    if (this.map_ && this.hotKeyDown_) {\n      this.mapPosn_ = getElementPosition(this.map_.getDiv());\n      this.dragging_ = true;\n      this.startPt_ = this.endPt_ = this.getMousePoint_(e);\n      this.boxDiv_.style.width = this.boxDiv_.style.height = \"0px\";\n      var prj = this.prjov_.getProjection();\n      var latlng = prj.fromContainerPixelToLatLng(this.startPt_);\n      /**\n       * This event is fired when the drag operation begins.\n       * The parameter passed is the geographic position of the starting point.\n       * @name DragZoom#dragstart\n       * @param {LatLng} latlng The geographic position of the starting point.\n       * @event\n       */\n      google.maps.event.trigger(this, \"dragstart\", latlng);\n    }\n  };\n  /**\n   * Handle mouse down at the document level.\n   * @param {Event} e The mouse event.\n   */\n  DragZoom.prototype.onMouseDownDocument_ = function (e) {\n    this.mouseDown_ = true;\n  };\n  /**\n   * Handle mouse move.\n   * @param {Event} e The mouse event.\n   */\n  DragZoom.prototype.onMouseMove_ = function (e) {\n    this.mousePosn_ = getMousePosition(e);\n    if (this.dragging_) {\n      this.endPt_ = this.getMousePoint_(e);\n      var left = Math.min(this.startPt_.x, this.endPt_.x);\n      var top = Math.min(this.startPt_.y, this.endPt_.y);\n      var width = Math.abs(this.startPt_.x - this.endPt_.x);\n      var height = Math.abs(this.startPt_.y - this.endPt_.y);\n      // For benefit of MSIE 7/8 ensure following values are not negative:\n      var boxWidth = Math.max(0, width - (this.boxBorderWidths_.left + this.boxBorderWidths_.right));\n      var boxHeight = Math.max(0, height - (this.boxBorderWidths_.top + this.boxBorderWidths_.bottom));\n      // Left veil rectangle:\n      this.veilDiv_[0].style.top = \"0px\";\n      this.veilDiv_[0].style.left = \"0px\";\n      this.veilDiv_[0].style.width = left + \"px\";\n      this.veilDiv_[0].style.height = this.mapHeight_ + \"px\";\n      // Right veil rectangle:\n      this.veilDiv_[1].style.top = \"0px\";\n      this.veilDiv_[1].style.left = (left + width) + \"px\";\n      this.veilDiv_[1].style.width = (this.mapWidth_ - (left + width)) + \"px\";\n      this.veilDiv_[1].style.height = this.mapHeight_ + \"px\";\n      // Top veil rectangle:\n      this.veilDiv_[2].style.top = \"0px\";\n      this.veilDiv_[2].style.left = left + \"px\";\n      this.veilDiv_[2].style.width = width + \"px\";\n      this.veilDiv_[2].style.height = top + \"px\";\n      // Bottom veil rectangle:\n      this.veilDiv_[3].style.top = (top + height) + \"px\";\n      this.veilDiv_[3].style.left = left + \"px\";\n      this.veilDiv_[3].style.width = width + \"px\";\n      this.veilDiv_[3].style.height = (this.mapHeight_ - (top + height)) + \"px\";\n      // Selection rectangle:\n      this.boxDiv_.style.top = top + \"px\";\n      this.boxDiv_.style.left = left + \"px\";\n      this.boxDiv_.style.width = boxWidth + \"px\";\n      this.boxDiv_.style.height = boxHeight + \"px\";\n      this.boxDiv_.style.display = \"block\";\n      /**\n       * This event is fired repeatedly while the user drags a box across the area of interest.\n       * The southwest and northeast point are passed as parameters of type <code>google.maps.Point</code>\n       * (for performance reasons), relative to the map container. Also passed is the projection object\n       * so that the event listener, if necessary, can convert the pixel positions to geographic\n       * coordinates using <code>google.maps.MapCanvasProjection.fromContainerPixelToLatLng</code>.\n       * @name DragZoom#drag\n       * @param {Point} southwestPixel The southwest point of the selection area.\n       * @param {Point} northeastPixel The northeast point of the selection area.\n       * @param {MapCanvasProjection} prj The projection object.\n       * @event\n       */\n      google.maps.event.trigger(this, \"drag\", new google.maps.Point(left, top + height), new google.maps.Point(left + width, top), this.prjov_.getProjection());\n    } else if (!this.mouseDown_) {\n      this.mapPosn_ = getElementPosition(this.map_.getDiv());\n      this.setVeilVisibility_();\n    }\n  };\n  /**\n   * Handle mouse up.\n   * @param {Event} e The mouse event.\n   */\n  DragZoom.prototype.onMouseUp_ = function (e) {\n    var z;\n    var me = this;\n    this.mouseDown_ = false;\n    if (this.dragging_) {\n      if ((this.getMousePoint_(e).x === this.startPt_.x) && (this.getMousePoint_(e).y === this.startPt_.y)) {\n        this.onKeyUp_(e); // Cancel event\n        return;\n      }\n      var left = Math.min(this.startPt_.x, this.endPt_.x);\n      var top = Math.min(this.startPt_.y, this.endPt_.y);\n      var width = Math.abs(this.startPt_.x - this.endPt_.x);\n      var height = Math.abs(this.startPt_.y - this.endPt_.y);\n      // Google Maps API bug: setCenter() doesn't work as expected if the map has a\n      // border on the left or top. The code here includes a workaround for this problem.\n      var kGoogleCenteringBug = true;\n      if (kGoogleCenteringBug) {\n        left += this.borderWidths_.left;\n        top += this.borderWidths_.top;\n      }\n\n      var prj = this.prjov_.getProjection();\n      var sw = prj.fromContainerPixelToLatLng(new google.maps.Point(left, top + height));\n      var ne = prj.fromContainerPixelToLatLng(new google.maps.Point(left + width, top));\n      var bnds = new google.maps.LatLngBounds(sw, ne);\n\n      if (this.noZoom_) {\n        this.boxDiv_.style.display = \"none\";\n      } else {\n        // Sometimes fitBounds causes a zoom OUT, so restore original zoom level if this happens.\n        z = this.map_.getZoom();\n        this.map_.fitBounds(bnds);\n        if (this.map_.getZoom() < z) {\n          this.map_.setZoom(z);\n        }\n\n        // Redraw box after zoom:\n        var swPt = prj.fromLatLngToContainerPixel(sw);\n        var nePt = prj.fromLatLngToContainerPixel(ne);\n        if (kGoogleCenteringBug) {\n          swPt.x -= this.borderWidths_.left;\n          swPt.y -= this.borderWidths_.top;\n          nePt.x -= this.borderWidths_.left;\n          nePt.y -= this.borderWidths_.top;\n        }\n        this.boxDiv_.style.left = swPt.x + \"px\";\n        this.boxDiv_.style.top = nePt.y + \"px\";\n        this.boxDiv_.style.width = (Math.abs(nePt.x - swPt.x) - (this.boxBorderWidths_.left + this.boxBorderWidths_.right)) + \"px\";\n        this.boxDiv_.style.height = (Math.abs(nePt.y - swPt.y) - (this.boxBorderWidths_.top + this.boxBorderWidths_.bottom)) + \"px\";\n        // Hide box asynchronously after 1 second:\n        setTimeout(function () {\n          me.boxDiv_.style.display = \"none\";\n        }, 1000);\n      }\n      this.dragging_ = false;\n      this.onMouseMove_(e); // Updates the veil\n      /**\n       * This event is fired when the drag operation ends.\n       * The parameter passed is the geographic bounds of the selected area.\n       * Note that this event is <i>not</i> fired if the hot key is released before the drag operation ends.\n       * @name DragZoom#dragend\n       * @param {LatLngBounds} bnds The geographic bounds of the selected area.\n       * @event\n       */\n      google.maps.event.trigger(this, \"dragend\", bnds);\n      // if the hot key isn't down, the drag zoom must have been activated by turning\n      // on the visual control. In this case, finish up by simulating a key up event.\n      if (!this.isHotKeyDown_(e)) {\n        this.onKeyUp_(e);\n      }\n    }\n  };\n  /**\n   * Handle key up.\n   * @param {Event} e The keyboard event.\n   */\n  DragZoom.prototype.onKeyUp_ = function (e) {\n    var i;\n    var left, top, width, height, prj, sw, ne;\n    var bnds = null;\n    if (this.map_ && this.hotKeyDown_) {\n      this.hotKeyDown_ = false;\n      if (this.dragging_) {\n        this.boxDiv_.style.display = \"none\";\n        this.dragging_ = false;\n        // Calculate the bounds when drag zoom was cancelled\n        left = Math.min(this.startPt_.x, this.endPt_.x);\n        top = Math.min(this.startPt_.y, this.endPt_.y);\n        width = Math.abs(this.startPt_.x - this.endPt_.x);\n        height = Math.abs(this.startPt_.y - this.endPt_.y);\n        prj = this.prjov_.getProjection();\n        sw = prj.fromContainerPixelToLatLng(new google.maps.Point(left, top + height));\n        ne = prj.fromContainerPixelToLatLng(new google.maps.Point(left + width, top));\n        bnds = new google.maps.LatLngBounds(sw, ne);\n      }\n      for (i = 0; i < this.veilDiv_.length; i++) {\n        this.veilDiv_[i].style.display = \"none\";\n      }\n      if (this.visualEnabled_) {\n        this.buttonDiv_.firstChild.style.left = -(this.visualSize_.width * 2) + \"px\";\n        this.buttonDiv_.title = this.visualTips_.off;\n        this.buttonDiv_.style.display = \"\";\n      }\n      /**\n       * This event is fired when the hot key is released.\n       * The parameter passed is the geographic bounds of the selected area immediately\n       * before the hot key was released.\n       * @name DragZoom#deactivate\n       * @param {LatLngBounds} bnds The geographic bounds of the selected area immediately\n       *  before the hot key was released.\n       * @event\n       */\n      google.maps.event.trigger(this, \"deactivate\", bnds);\n    }\n  };\n  /**\n   * @name google.maps.Map\n   * @class These are new methods added to the Google Maps JavaScript API V3's\n   * <a href=\"http://code.google.com/apis/maps/documentation/javascript/reference.html#Map\">Map</a>\n   * class.\n   */\n  /**\n   * Enables drag zoom. The user can zoom to an area of interest by holding down the hot key\n   * <code>(shift | ctrl | alt )</code> while dragging a box around the area or by turning\n   * on the visual control then dragging a box around the area.\n   * @param {KeyDragZoomOptions} opt_zoomOpts The optional parameters.\n   */\n  google.maps.Map.prototype.enableKeyDragZoom = function (opt_zoomOpts) {\n    this.dragZoom_ = new DragZoom(this, opt_zoomOpts);\n  };\n  /**\n   * Disables drag zoom.\n   */\n  google.maps.Map.prototype.disableKeyDragZoom = function () {\n    var i;\n    var d = this.dragZoom_;\n    if (d) {\n      for (i = 0; i < d.listeners_.length; ++i) {\n        google.maps.event.removeListener(d.listeners_[i]);\n      }\n      this.getDiv().removeChild(d.boxDiv_);\n      for (i = 0; i < d.veilDiv_.length; i++) {\n        this.getDiv().removeChild(d.veilDiv_[i]);\n      }\n      if (d.visualEnabled_) {\n        // Remove the custom control:\n        this.controls[d.visualPosition_].removeAt(d.controlIndex_);\n      }\n      d.prjov_.setMap(null);\n      this.dragZoom_ = null;\n    }\n  };\n  /**\n   * Returns <code>true</code> if the drag zoom feature has been enabled.\n   * @return {boolean}\n   */\n  google.maps.Map.prototype.keyDragZoomEnabled = function () {\n    return this.dragZoom_ !== null;\n  };\n  /**\n   * Returns the DragZoom object which is created when <code>google.maps.Map.enableKeyDragZoom</code> is called.\n   * With this object you can use <code>google.maps.event.addListener</code> to attach event listeners\n   * for the \"activate\", \"deactivate\", \"dragstart\", \"drag\", and \"dragend\" events.\n   * @return {DragZoom}\n   */\n  google.maps.Map.prototype.getDragZoomObject = function () {\n    return this.dragZoom_;\n  };\n})();\n"]}