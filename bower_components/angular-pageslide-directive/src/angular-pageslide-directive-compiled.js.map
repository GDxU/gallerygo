{"version":3,"sources":["angular-pageslide-directive.js"],"names":[],"mappings":";;;;AACC,WAAU,IAAV,EAAgB,OAAhB,EAAyB;AACtB,QAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;AAC5C,eAAO,CAAC,SAAD,CAAP,EAAoB,OAApB;AACH,KAFD,MAEO,IAAI,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAlB,IAA8B,OAAO,OAAzC,EAAkD;AACrD,eAAO,OAAP,GAAiB,QAAQ,QAAQ,SAAR,CAAR,CAAjB;AACH,KAFM,MAEA;AACH,gBAAQ,KAAK,OAAb;AACH;AACJ,CARA,aAQO,UAAU,OAAV,EAAmB;;AAEvB,YACK,MADL,CACY,qBADZ,EACmC,EADnC,EAEK,SAFL,CAEe,WAFf,EAE4B,CAAC,WAAD,EAAc,UAAd,EAA0B,UAAU,SAAV,EAAqB,QAArB,EAA+B;AAC7E,YAAI,WAAW,EAAf;;AAGA,eAAO;AACH,sBAAU,IADP;AAEH,wBAAY,KAFT;AAGH,mBAAO;AACH,wBAAQ,IADL;AAEH,6BAAa,GAFV;AAGH,wBAAQ,GAHL;AAIH,yBAAS,GAJN;AAKH,yBAAS,GALN;AAMH,wBAAQ,GANL;AAOH,0BAAU,GAPP;AAQH,wBAAQ,GARL;AASH,6BAAa,GATV;AAUH,+BAAe,GAVZ;AAWH,6BAAa,GAXV;AAYH,gCAAgB,GAZb;AAaH,wBAAQ,IAbL;AAcH,yBAAS;AAdN,aAHJ;AAmBH,kBAAM,cAAU,MAAV,EAAkB,EAAlB,EAAsB,KAAtB,EAA6B;;AAE/B,oBAAI,QAAQ,EAAZ;;AAEA,sBAAM,IAAN,GAAa,OAAO,MAAP,IAAiB,OAA9B;AACA,sBAAM,KAAN,GAAc,OAAO,OAAP,IAAkB,KAAhC;AACA,sBAAM,IAAN,GAAa,OAAO,MAAP,IAAiB,OAA9B;AACA,sBAAM,MAAN,GAAe,OAAO,QAAP,IAAmB,IAAlC;AACA,sBAAM,SAAN,GAAkB,OAAO,OAAP,IAAkB,cAApC;AACA,sBAAM,IAAN,GAAa,OAAO,MAAP,KAAkB,MAA/B;AACA,sBAAM,SAAN,GAAkB,OAAO,WAAP,IAAsB,KAAxC;AACA,sBAAM,WAAN,GAAoB,OAAO,aAAP,KAAyB,MAA7C;AACA,sBAAM,SAAN,GAAkB,OAAO,WAAP,IAAsB,KAAxC;AACA,sBAAM,YAAN,GAAqB,OAAO,cAAP,KAA0B,OAA/C;;AAEA,sBAAM,IAAN,GAAa,MAAM,IAAN,IAAc,CAAC,MAAM,SAAlC;;AAEA,mBAAG,QAAH,CAAY,MAAM,SAAlB;;AAEA;;AAEA,oBAAI,OAAJ;AAAA,oBAAa,MAAb;AAAA,oBAAqB,IAArB;AAAA,oBAA2B,SAAS,KAApC;;AAEA,oBAAI,MAAM,SAAV,EAAqB;AACjB,2BAAO,SAAS,cAAT,CAAwB,MAAM,SAA9B,CAAP;AACH,iBAFD,MAEO;AACH,2BAAO,SAAS,IAAhB;AACH;;AAED,yBAAS,WAAT,CAAqB,CAArB,EAAwB;AACpB,wBAAG,UAAU,CAAC,OAAO,QAAP,CAAgB,EAAE,MAAlB,CAAd,EAAyC;AACrC,iCAAS,KAAT;AACA,+BAAO,MAAP,GAAgB,KAAhB;AACA,+BAAO,MAAP;AACH;;AAED,wBAAG,OAAO,MAAV,EAAkB;AACd,iCAAS,IAAT;AACH;AACJ;;AAED,yBAAS,YAAT,CAAsB,KAAtB,EAA4B;AACxB,wBAAI,MAAM,SAAV,EAAqB;AACjB,4BAAI,YAAY,MAAM,SAAN,GAAkB,OAAlC;AACA,4BAAI,cAAc,IAAI,MAAJ,CAAW,YAAY,UAAZ,GAAyB,SAAzB,GAAqC,OAAhD,CAAlB;AACA,6BAAK,SAAL,GAAiB,KAAK,SAAL,CAAe,OAAf,CAAuB,WAAvB,EAAoC,EAApC,CAAjB;AACA,4BAAI,mBAAmB,YAAY,GAAZ,GAAkB,KAAzC;AACA,4BAAI,KAAK,SAAL,CAAe,KAAK,SAAL,CAAe,MAAf,GAAuB,CAAtC,MAA6C,GAAjD,EAAsD;AAClD,iCAAK,SAAL,IAAkB,MAAM,gBAAxB;AACH,yBAFD,MAEO;AACH,iCAAK,SAAL,IAAkB,gBAAlB;AACH;AACJ;AACJ;;AAED,6BAAa,QAAb;;AAEA,yBAAS,GAAG,CAAH,CAAT;;AAEA,oBAAI,OAAO,OAAP,CAAe,WAAf,OAAiC,KAAjC,IACA,OAAO,OAAP,CAAe,WAAf,OAAiC,WADrC,EACkD;AAC9C,0BAAM,IAAI,KAAJ,CAAU,gEAAV,CAAN;AACH;;AAED,oBAAI,OAAO,QAAP,CAAgB,MAAhB,KAA2B,CAA/B,EAAkC;AAC9B,0BAAM,IAAI,KAAJ,CAAU,iDAAV,CAAN;AACH;;AAED,0BAAU,QAAQ,OAAR,CAAgB,OAAO,QAAvB,CAAV;;AAEA,qBAAK,WAAL,CAAiB,MAAjB;;AAEA,uBAAO,KAAP,CAAa,MAAb,GAAsB,MAAM,MAA5B;AACA,uBAAO,KAAP,CAAa,QAAb,GAAwB,OAAxB;AACA,uBAAO,KAAP,CAAa,kBAAb,GAAkC,MAAM,KAAN,GAAc,GAAhD;AACA,uBAAO,KAAP,CAAa,wBAAb,GAAwC,MAAM,KAAN,GAAc,GAAtD;AACA,uBAAO,KAAP,CAAa,MAAb,GAAsB,MAAM,IAA5B;AACA,uBAAO,KAAP,CAAa,kBAAb,GAAkC,0BAAlC;;AAEA,oBAAI,MAAM,IAAV,EAAgB;AACZ,yBAAK,KAAL,CAAW,QAAX,GAAsB,UAAtB;AACA,yBAAK,KAAL,CAAW,kBAAX,GAAgC,MAAM,KAAN,GAAc,GAA9C;AACA,yBAAK,KAAL,CAAW,wBAAX,GAAsC,MAAM,KAAN,GAAc,GAApD;AACA,yBAAK,KAAL,CAAW,kBAAX,GAAgC,0BAAhC;AACH;;AAED,oBAAI,MAAM,SAAV,EAAqB;AACjB,2BAAO,KAAP,CAAa,QAAb,GAAwB,UAAxB;AACA,yBAAK,KAAL,CAAW,QAAX,GAAsB,UAAtB;AACA,yBAAK,KAAL,CAAW,QAAX,GAAsB,QAAtB;AACH;;AAED,yBAAS,eAAT,GAA2B;AACvB,wBAAI,OAAO,MAAX,EAAmB;AACf,4BAAI,OAAO,OAAO,MAAd,KAAyB,UAA7B,EAAyC;AACrC,mCAAO,MAAP;AACH;AACJ,qBAJD,MAIO;AACH,4BAAI,OAAO,OAAO,OAAd,KAA0B,UAA9B,EAA0C;AACtC,mCAAO,OAAP;AACH;AACJ;AACJ;;AAED,uBAAO,gBAAP,CAAwB,eAAxB,EAAyC,eAAzC;;AAEA;;AAEA,yBAAS,UAAT,GAAsB;AAClB,4BAAQ,MAAM,IAAd;AACI,6BAAK,OAAL;AACI,mCAAO,KAAP,CAAa,KAAb,GAAqB,MAAM,IAA3B;AACA,mCAAO,KAAP,CAAa,MAAb,GAAsB,MAAtB;AACA,mCAAO,KAAP,CAAa,GAAb,GAAmB,KAAnB;AACA,mCAAO,KAAP,CAAa,MAAb,GAAsB,KAAtB;AACA,mCAAO,KAAP,CAAa,KAAb,GAAqB,KAArB;AACA;AACJ,6BAAK,MAAL;AACI,mCAAO,KAAP,CAAa,KAAb,GAAqB,MAAM,IAA3B;AACA,mCAAO,KAAP,CAAa,MAAb,GAAsB,MAAtB;AACA,mCAAO,KAAP,CAAa,GAAb,GAAmB,KAAnB;AACA,mCAAO,KAAP,CAAa,MAAb,GAAsB,KAAtB;AACA,mCAAO,KAAP,CAAa,IAAb,GAAoB,KAApB;AACA;AACJ,6BAAK,KAAL;AACI,mCAAO,KAAP,CAAa,MAAb,GAAsB,MAAM,IAA5B;AACA,mCAAO,KAAP,CAAa,KAAb,GAAqB,MAArB;AACA,mCAAO,KAAP,CAAa,IAAb,GAAoB,KAApB;AACA,mCAAO,KAAP,CAAa,GAAb,GAAmB,KAAnB;AACA,mCAAO,KAAP,CAAa,KAAb,GAAqB,KAArB;AACA;AACJ,6BAAK,QAAL;AACI,mCAAO,KAAP,CAAa,MAAb,GAAsB,MAAM,IAA5B;AACA,mCAAO,KAAP,CAAa,KAAb,GAAqB,MAArB;AACA,mCAAO,KAAP,CAAa,MAAb,GAAsB,KAAtB;AACA,mCAAO,KAAP,CAAa,IAAb,GAAoB,KAApB;AACA,mCAAO,KAAP,CAAa,KAAb,GAAqB,KAArB;AACA;AA5BR;AA8BH;;AAED,yBAAS,OAAT,CAAiB,MAAjB,EAAyB,KAAzB,EAAgC;AAC5B,4BAAQ,MAAM,IAAd;AACI,6BAAK,OAAL;AACI,mCAAO,KAAP,CAAa,KAAb,GAAqB,MAAM,MAAM,IAAjC;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,KAAX,GAAmB,KAAnB;AACA,qCAAK,KAAL,CAAW,IAAX,GAAkB,KAAlB;AACH;AACD;AACJ,6BAAK,MAAL;AACI,mCAAO,KAAP,CAAa,IAAb,GAAoB,MAAM,MAAM,IAAhC;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,IAAX,GAAkB,KAAlB;AACA,qCAAK,KAAL,CAAW,KAAX,GAAmB,KAAnB;AACH;AACD;AACJ,6BAAK,KAAL;AACI,mCAAO,KAAP,CAAa,GAAb,GAAmB,MAAM,MAAM,IAA/B;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,GAAX,GAAiB,KAAjB;AACA,qCAAK,KAAL,CAAW,MAAX,GAAoB,KAApB;AACH;AACD;AACJ,6BAAK,QAAL;AACI,mCAAO,KAAP,CAAa,MAAb,GAAsB,MAAM,MAAM,IAAlC;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,MAAX,GAAoB,KAApB;AACA,qCAAK,KAAL,CAAW,GAAX,GAAiB,KAAjB;AACH;AACD;AA5BR;;AA+BA,wBAAI,MAAM,WAAV,EAAuB;AACnB,kCAAU,GAAV,CAAc,SAAd,EAAyB,aAAzB;AACH;;AAED,wBAAI,MAAM,YAAV,EAAwB;AACpB,kCAAU,GAAV,CAAc,gBAAd,EAAgC,WAAhC;AACH;AACD,6BAAS,KAAT;AACA,iCAAa,QAAb;AACA,2BAAO,MAAP,GAAgB,KAAhB;AACH;;AAED,yBAAS,MAAT,CAAgB,MAAhB,EAAwB,KAAxB,EAA+B;AAC3B,4BAAQ,MAAM,IAAd;AACI,6BAAK,OAAL;AACI,mCAAO,KAAP,CAAa,KAAb,GAAqB,KAArB;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,KAAX,GAAmB,MAAM,IAAzB;AACA,qCAAK,KAAL,CAAW,IAAX,GAAkB,MAAM,MAAM,IAA9B;AACH;AACD;AACJ,6BAAK,MAAL;AACI,mCAAO,KAAP,CAAa,IAAb,GAAoB,KAApB;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,IAAX,GAAkB,MAAM,IAAxB;AACA,qCAAK,KAAL,CAAW,KAAX,GAAmB,MAAM,MAAM,IAA/B;AACH;AACD;AACJ,6BAAK,KAAL;AACI,mCAAO,KAAP,CAAa,GAAb,GAAmB,KAAnB;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,GAAX,GAAiB,MAAM,IAAvB;AACA,qCAAK,KAAL,CAAW,MAAX,GAAoB,MAAM,MAAM,IAAhC;AACH;AACD;AACJ,6BAAK,QAAL;AACI,mCAAO,KAAP,CAAa,MAAb,GAAsB,KAAtB;AACA,gCAAI,MAAM,IAAV,EAAgB;AACZ,qCAAK,KAAL,CAAW,MAAX,GAAoB,MAAM,IAA1B;AACA,qCAAK,KAAL,CAAW,GAAX,GAAiB,MAAM,MAAM,IAA7B;AACH;AACD;AA5BR;;AA+BA,2BAAO,MAAP,GAAgB,IAAhB;;AAEA,wBAAI,MAAM,WAAV,EAAuB;AACnB,kCAAU,EAAV,CAAa,SAAb,EAAwB,aAAxB;AACH;;AAED,wBAAI,MAAM,YAAV,EAAwB;AACpB,kCAAU,EAAV,CAAa,gBAAb,EAA+B,WAA/B;AACH;AACD,iCAAa,MAAb;AACH;;AAED,yBAAS,aAAT,CAAuB,CAAvB,EAA0B;AACtB,wBAAI,UAAU,EAAd;AACA,wBAAI,MAAM,EAAE,OAAF,IAAa,EAAE,KAAzB;;AAEA,wBAAI,QAAQ,OAAZ,EAAqB;AACjB,gCAAQ,MAAR,EAAgB,KAAhB;;AAEA;AACA;;AAEA,iCAAS,YAAY;AACjB,mCAAO,MAAP;AACH,yBAFD;AAGH;AACJ;;AAGD;;AAEA,uBAAO,MAAP,CAAc,QAAd,EAAwB,UAAS,KAAT,EAAgB;AACpC,wBAAI,CAAC,CAAC,KAAN,EAAa;AACT,+BAAO,MAAP,EAAe,KAAf;AACH,qBAFD,MAEO;AACH,gCAAQ,MAAR,EAAgB,KAAhB;AACH;AACJ,iBAND;;AAQA,uBAAO,MAAP,CAAc,QAAd,EAAwB,UAAS,QAAT,EAAmB,QAAnB,EAA6B;AACjD,wBAAI,aAAa,QAAjB,EAA2B;AACvB,8BAAM,IAAN,GAAa,QAAb;AACA;AACH;AACJ,iBALD;;AAQA;;AAEA,uBAAO,GAAP,CAAW,UAAX,EAAuB,YAAY;AAC/B,wBAAI,OAAO,UAAP,KAAsB,IAA1B,EAAgC;AAC5B,4BAAI,MAAM,YAAV,EAAwB;AACpB,sCAAU,GAAV,CAAc,gBAAd,EAAgC,WAAhC;AACH;AACD,6BAAK,WAAL,CAAiB,MAAjB;AACH;;AAED,2BAAO,mBAAP,CAA2B,eAA3B,EAA4C,eAA5C;AACH,iBATD;;AAWA,oBAAI,OAAO,WAAX,EAAwB;AACpB,2BAAO,GAAP,CAAW,sBAAX,EAAmC,YAAW;AAC1C,gCAAQ,MAAR,EAAgB,KAAhB;AACH,qBAFD;AAGA,2BAAO,GAAP,CAAW,mBAAX,EAAgC,YAAW;AACvC,gCAAQ,MAAR,EAAgB,KAAhB;AACH,qBAFD;AAGH;AAEJ;AAjTE,SAAP;AAmTH,KAvTuB,CAF5B;AA0TH,CApUA,CAAD","file":"angular-pageslide-directive-compiled.js","sourcesContent":["\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(['angular'], factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory(require('angular'));\n    } else {\n        factory(root.angular);\n    }\n}(this, function (angular) {\n\n    angular\n        .module('pageslide-directive', [])\n        .directive('pageslide', ['$document', '$timeout', function ($document, $timeout) {\n            var defaults = {};\n\n\n            return {\n                restrict: 'EA',\n                transclude: false,\n                scope: {\n                    psOpen: '=?',\n                    psAutoClose: '@',\n                    psSide: '@',\n                    psSpeed: '@',\n                    psClass: '@',\n                    psSize: '@',\n                    psZindex: '@',\n                    psPush: '@',\n                    psContainer: '@',\n                    psKeyListener: '@',\n                    psBodyClass: '@',\n                    psClickOutside: '@',\n                    onopen: '=?',\n                    onclose: '=?'\n                },\n                link: function ($scope, el, attrs) {\n\n                    var param = {};\n\n                    param.side = $scope.psSide || 'right';\n                    param.speed = $scope.psSpeed || '0.5';\n                    param.size = $scope.psSize || '300px';\n                    param.zindex = $scope.psZindex || 1000;\n                    param.className = $scope.psClass || 'ng-pageslide';\n                    param.push = $scope.psPush === 'true';\n                    param.container = $scope.psContainer || false;\n                    param.keyListener = $scope.psKeyListener === 'true';\n                    param.bodyClass = $scope.psBodyClass || false;\n                    param.clickOutside = $scope.psClickOutside !== 'false';\n\n                    param.push = param.push && !param.container;\n\n                    el.addClass(param.className);\n\n                    /* DOM manipulation */\n\n                    var content, slider, body, isOpen = false;\n\n                    if (param.container) {\n                        body = document.getElementById(param.container);\n                    } else {\n                        body = document.body;\n                    }\n\n                    function onBodyClick(e) {\n                        if(isOpen && !slider.contains(e.target)) {\n                            isOpen = false;\n                            $scope.psOpen = false;\n                            $scope.$apply();\n                        }\n\n                        if($scope.psOpen) {\n                            isOpen = true;\n                        }\n                    }\n\n                    function setBodyClass(value){\n                        if (param.bodyClass) {\n                            var bodyClass = param.className + '-body';\n                            var bodyClassRe = new RegExp(bodyClass + '-closed|' + bodyClass + '-open');\n                            body.className = body.className.replace(bodyClassRe, '');\n                            var newBodyClassName = bodyClass + '-' + value;\n                            if (body.className[body.className.length -1] !== ' ') {\n                                body.className += ' ' + newBodyClassName;\n                            } else {\n                                body.className += newBodyClassName;\n                            }\n                        }\n                    }\n\n                    setBodyClass('closed');\n\n                    slider = el[0];\n\n                    if (slider.tagName.toLowerCase() !== 'div' &&\n                        slider.tagName.toLowerCase() !== 'pageslide') {\n                        throw new Error('Pageslide can only be applied to <div> or <pageslide> elements');\n                    }\n\n                    if (slider.children.length === 0) {\n                        throw new Error('You need to have content inside the <pageslide>');\n                    }\n\n                    content = angular.element(slider.children);\n\n                    body.appendChild(slider);\n\n                    slider.style.zIndex = param.zindex;\n                    slider.style.position = 'fixed';\n                    slider.style.transitionDuration = param.speed + 's';\n                    slider.style.webkitTransitionDuration = param.speed + 's';\n                    slider.style.height = param.size;\n                    slider.style.transitionProperty = 'top, bottom, left, right';\n\n                    if (param.push) {\n                        body.style.position = 'absolute';\n                        body.style.transitionDuration = param.speed + 's';\n                        body.style.webkitTransitionDuration = param.speed + 's';\n                        body.style.transitionProperty = 'top, bottom, left, right';\n                    }\n\n                    if (param.container) {\n                        slider.style.position = 'absolute';\n                        body.style.position = 'relative';\n                        body.style.overflow = 'hidden';\n                    }\n\n                    function onTransitionEnd() {\n                        if ($scope.psOpen) {\n                            if (typeof $scope.onopen === 'function') {\n                                $scope.onopen();\n                            }\n                        } else {\n                            if (typeof $scope.onclose === 'function') {\n                                $scope.onclose();\n                            }\n                        }\n                    }\n\n                    slider.addEventListener('transitionend', onTransitionEnd);\n\n                    initSlider();\n\n                    function initSlider() {\n                        switch (param.side) {\n                            case 'right':\n                                slider.style.width = param.size;\n                                slider.style.height = '100%';\n                                slider.style.top = '0px';\n                                slider.style.bottom = '0px';\n                                slider.style.right = '0px';\n                                break;\n                            case 'left':\n                                slider.style.width = param.size;\n                                slider.style.height = '100%';\n                                slider.style.top = '0px';\n                                slider.style.bottom = '0px';\n                                slider.style.left = '0px';\n                                break;\n                            case 'top':\n                                slider.style.height = param.size;\n                                slider.style.width = '100%';\n                                slider.style.left = '0px';\n                                slider.style.top = '0px';\n                                slider.style.right = '0px';\n                                break;\n                            case 'bottom':\n                                slider.style.height = param.size;\n                                slider.style.width = '100%';\n                                slider.style.bottom = '0px';\n                                slider.style.left = '0px';\n                                slider.style.right = '0px';\n                                break;\n                        }\n                    }\n\n                    function psClose(slider, param) {\n                        switch (param.side) {\n                            case 'right':\n                                slider.style.right = \"-\" + param.size;\n                                if (param.push) {\n                                    body.style.right = '0px';\n                                    body.style.left = '0px';\n                                }\n                                break;\n                            case 'left':\n                                slider.style.left = \"-\" + param.size;\n                                if (param.push) {\n                                    body.style.left = '0px';\n                                    body.style.right = '0px';\n                                }\n                                break;\n                            case 'top':\n                                slider.style.top = \"-\" + param.size;\n                                if (param.push) {\n                                    body.style.top = '0px';\n                                    body.style.bottom = '0px';\n                                }\n                                break;\n                            case 'bottom':\n                                slider.style.bottom = \"-\" + param.size;\n                                if (param.push) {\n                                    body.style.bottom = '0px';\n                                    body.style.top = '0px';\n                                }\n                                break;\n                        }\n\n                        if (param.keyListener) {\n                            $document.off('keydown', handleKeyDown);\n                        }\n\n                        if (param.clickOutside) {\n                            $document.off('touchend click', onBodyClick);\n                        }\n                        isOpen = false;\n                        setBodyClass('closed');\n                        $scope.psOpen = false;\n                    }\n\n                    function psOpen(slider, param) {\n                        switch (param.side) {\n                            case 'right':\n                                slider.style.right = \"0px\";\n                                if (param.push) {\n                                    body.style.right = param.size;\n                                    body.style.left = '-' + param.size;\n                                }\n                                break;\n                            case 'left':\n                                slider.style.left = \"0px\";\n                                if (param.push) {\n                                    body.style.left = param.size;\n                                    body.style.right = '-' + param.size;\n                                }\n                                break;\n                            case 'top':\n                                slider.style.top = \"0px\";\n                                if (param.push) {\n                                    body.style.top = param.size;\n                                    body.style.bottom = '-' + param.size;\n                                }\n                                break;\n                            case 'bottom':\n                                slider.style.bottom = \"0px\";\n                                if (param.push) {\n                                    body.style.bottom = param.size;\n                                    body.style.top = '-' + param.size;\n                                }\n                                break;\n                        }\n\n                        $scope.psOpen = true;\n\n                        if (param.keyListener) {\n                            $document.on('keydown', handleKeyDown);\n                        }\n\n                        if (param.clickOutside) {\n                            $document.on('touchend click', onBodyClick);\n                        }\n                        setBodyClass('open');\n                    }\n\n                    function handleKeyDown(e) {\n                        var ESC_KEY = 27;\n                        var key = e.keyCode || e.which;\n\n                        if (key === ESC_KEY) {\n                            psClose(slider, param);\n\n                            // FIXME check with tests\n                            // http://stackoverflow.com/questions/12729122/angularjs-prevent-error-digest-already-in-progress-when-calling-scope-apply\n\n                            $timeout(function () {\n                                $scope.$apply();\n                            });\n                        }\n                    }\n\n\n                    // Watchers\n\n                    $scope.$watch('psOpen', function(value) {\n                        if (!!value) {\n                            psOpen(slider, param);\n                        } else {\n                            psClose(slider, param);\n                        }\n                    });\n\n                    $scope.$watch('psSize', function(newValue, oldValue) {\n                        if (oldValue !== newValue) {\n                            param.size = newValue;\n                            initSlider();\n                        }\n                    });\n\n\n                    // Events\n\n                    $scope.$on('$destroy', function () {\n                        if (slider.parentNode === body) {\n                            if (param.clickOutside) {\n                                $document.off('touchend click', onBodyClick);\n                            }\n                            body.removeChild(slider);\n                        }\n\n                        slider.removeEventListener('transitionend', onTransitionEnd);\n                    });\n\n                    if ($scope.psAutoClose) {\n                        $scope.$on('$locationChangeStart', function() {\n                            psClose(slider, param);\n                        });\n                        $scope.$on('$stateChangeStart', function() {\n                            psClose(slider, param);\n                        });\n                    }\n\n                }\n            };\n        }]);\n}));\n"]}