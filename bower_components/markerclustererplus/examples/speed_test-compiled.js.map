{"version":3,"sources":["speed_test.js"],"names":[],"mappings":"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","file":"speed_test-compiled.js","sourcesContent":["/**\n * @fileoverview This demo is used for MarkerClusterer. It will show 100 markers\n * using MarkerClusterer and count the time to show the difference between using\n * MarkerClusterer and without MarkerClusterer.\n * @author Luke Mahe (v2 author: Xiaoxi Wu)\n */\n\nfunction $(element) {\n  return document.getElementById(element);\n}\n\nvar speedTest = {};\n\nspeedTest.pics = null;\nspeedTest.map = null;\nspeedTest.markerClusterer = null;\nspeedTest.markers = [];\nspeedTest.infoWindow = null;\n\nspeedTest.init = function() {\n  var latlng = new google.maps.LatLng(39.91, 116.38);\n  var options = {\n    'zoom': 2,\n    'center': latlng,\n    'mapTypeId': google.maps.MapTypeId.ROADMAP\n  };\n\n  speedTest.map = new google.maps.Map($('map'), options);\n  speedTest.pics = data.photos;\n  \n  var useGmm = document.getElementById('usegmm');\n  google.maps.event.addDomListener(useGmm, 'click', speedTest.change);\n  \n  var numMarkers = document.getElementById('nummarkers');\n  google.maps.event.addDomListener(numMarkers, 'change', speedTest.change);\n\n  speedTest.infoWindow = new google.maps.InfoWindow();\n\n  speedTest.showMarkers();\n};\n\nspeedTest.showMarkers = function() {\n  speedTest.markers = [];\n\n  var type = 1;\n  if ($('usegmm').checked) {\n    type = 0;\n  }\n\n  if (speedTest.markerClusterer) {\n    speedTest.markerClusterer.clearMarkers();\n  }\n\n  var panel = $('markerlist');\n  panel.innerHTML = '';\n  var numMarkers = $('nummarkers').value;\n\n  for (var i = 0; i < numMarkers; i++) {\n    var titleText = speedTest.pics[i].photo_title;\n    if (titleText == '') {\n      titleText = 'No title';\n    }\n\n    var item = document.createElement('DIV');\n    var title = document.createElement('A');\n    title.href = '#';\n    title.className = 'title';\n    title.innerHTML = titleText;\n\n    item.appendChild(title);\n    panel.appendChild(item);\n\n\n    var latLng = new google.maps.LatLng(speedTest.pics[i].latitude,\n        speedTest.pics[i].longitude);\n\n    var imageUrl = 'http://chart.apis.google.com/chart?cht=mm&chs=24x32&chco=' +\n        'FFFFFF,008CFF,000000&ext=.png';\n    var markerImage = new google.maps.MarkerImage(imageUrl,\n        new google.maps.Size(24, 32));\n\n    var marker = new google.maps.Marker({\n      'position': latLng,\n      'icon': markerImage\n    });\n\n    var fn = speedTest.markerClickFunction(speedTest.pics[i], latLng);\n    google.maps.event.addListener(marker, 'click', fn);\n    google.maps.event.addDomListener(title, 'click', fn);\n    speedTest.markers.push(marker);\n  }\n\n  window.setTimeout(speedTest.time, 0);\n};\n\nspeedTest.markerClickFunction = function(pic, latlng) {\n  return function(e) {\n    e.cancelBubble = true;\n    e.returnValue = false;\n    if (e.stopPropagation) {\n      e.stopPropagation();\n      e.preventDefault();\n    }\n    var title = pic.photo_title;\n    var url = pic.photo_url;\n    var fileurl = pic.photo_file_url;\n\n    var infoHtml = '<div class=\"info\"><h3>' + title +\n      '</h3><div class=\"info-body\">' +\n      '<a href=\"' + url + '\" target=\"_blank\"><img src=\"' +\n      fileurl + '\" class=\"info-img\"/></a></div>' +\n      '<a href=\"http://www.panoramio.com/\" target=\"_blank\">' +\n      '<img src=\"http://maps.google.com/intl/en_ALL/mapfiles/' +\n      'iw_panoramio.png\"/></a><br/>' +\n      '<a href=\"' + pic.owner_url + '\" target=\"_blank\">' + pic.owner_name +\n      '</a></div></div>';\n\n    speedTest.infoWindow.setContent(infoHtml);\n    speedTest.infoWindow.setPosition(latlng);\n    speedTest.infoWindow.open(speedTest.map);\n  };\n};\n\nspeedTest.clear = function() {\n  $('timetaken').innerHTML = 'cleaning...';\n  for (var i = 0, marker; marker = speedTest.markers[i]; i++) {\n    marker.setMap(null);\n  }\n};\n\nspeedTest.change = function() {\n  speedTest.clear();\n  speedTest.showMarkers();\n};\n\nspeedTest.time = function() {\n  $('timetaken').innerHTML = 'timing...';\n  var start = new Date();\n  if ($('usegmm').checked) {\n    speedTest.markerClusterer = new MarkerClusterer(speedTest.map, speedTest.markers);\n  } else {\n    for (var i = 0, marker; marker = speedTest.markers[i]; i++) {\n      marker.setMap(speedTest.map);\n    }\n  }\n\n  var end = new Date();\n  $('timetaken').innerHTML = end - start;\n};\n"]}